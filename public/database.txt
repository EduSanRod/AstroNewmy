create database astronewmy;
use astronewmy;

create table if not exists celestialobject(
    id int(11) AUTO_INCREMENT PRIMARY KEY,
    name varchar(200) not null,
    description varchar(200) not null,
    image varchar(200) not null
);

create table if not exists celestialobjectimages(
    id int(11) AUTO_INCREMENT PRIMARY KEY,
    image varchar(200) not null,
    description varchar(200) not null,
    celestial_object_id int(11) not null,
    FOREIGN KEY (celestial_object_id) REFERENCES celestialobject(id)
);

create table if not exists article(
    id int(11) AUTO_INCREMENT PRIMARY KEY,
    title varchar(200) not null,
    slug varchar(200) not null,
    description varchar(200) not null,
    image varchar(200) not null,
    author varchar(200) not null,
    source varchar(200) not null,
    celestial_object_id int(11) not null,
    FOREIGN KEY (celestial_object_id) REFERENCES celestialobject(id)
);

create table if not exists equipment(
    id int(11) AUTO_INCREMENT PRIMARY KEY,
    name varchar(200) not null,
    price decimal(19,2) not null,
    description varchar(200) not null,
    image varchar(200) not null,
    external_link varchar(200) not null,
    click_count int(11) not null
);

create table if not exists articleequipment(
    id int(11) AUTO_INCREMENT,
    article_id int(11) not null,
    equipment_id int(11) not null,
    FOREIGN KEY (article_id) REFERENCES article(id),
    FOREIGN KEY (equipment_id) REFERENCES equipment(id),
    PRIMARY KEY (id, article_id, equipment_id)
);
   
create table if not exists searchinformation(
    id int(11) AUTO_INCREMENT PRIMARY KEY,
    country varchar(200) not null,
    city decimal(19,2) not null,
    date varchar(200) not null
);

insert into celestialobject (name, description, image) values ("Mercury", "Planet mercury", "imagenes/celestialobject/mercury/main/mercury.svg");
insert into celestialobject (name, description, image) values ("Venus", "Planet venus", "imagenes/celestialobject/venus/main/venus.svg");
insert into celestialobject (name, description, image) values ("Mars", "Planet mars", "imagenes/celestialobject/mars/main/mars.svg");
insert into celestialobject (name, description, image) values ("Jupiter", "Planet jupiter", "imagenes/celestialobject/jupiter/main/jupiter.svg");
insert into celestialobject (name, description, image) values ("Saturn", "Planet saturn", "imagenes/celestialobject/saturn/main/saturn.svg");
insert into celestialobject (name, description, image) values ("Uranus", "Planet uranus", "imagenes/celestialobject/uranus/main/uranus.svg");
insert into celestialobject (name, description, image) values ("Neptune", "Planet neptune", "imagenes/celestialobject/neptune/main/neptune.svg");
